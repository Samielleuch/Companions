{"remainingRequest":"/home/sami/Desktop/SITE TESTING FOLDER/companions/client/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/sami/Desktop/SITE TESTING FOLDER/companions/client/src/components/Search.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/sami/Desktop/SITE TESTING FOLDER/companions/client/src/components/Search.vue","mtime":1570959665218},{"path":"/home/sami/Desktop/SITE TESTING FOLDER/companions/client/node_modules/vuetify-loader/lib/loader.js","mtime":1564062719000},{"path":"/home/sami/Desktop/SITE TESTING FOLDER/companions/client/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/sami/Desktop/SITE TESTING FOLDER/companions/client/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nexport default {\n  name: \"Search\",\n  data: () => ({\n    descriptionLimit: 60,\n    entries: [],\n    isLoading: false,\n    model: null,\n    search: null\n  }),\n  props: {\n    color: String,\n    elevation: String\n  },\n  computed: {\n    fields() {\n      if (!this.model) return [];\n\n      return Object.keys(this.model).map(key => {\n        return {\n          key,\n          value: this.model[key] || \"n/a\"\n        };\n      });\n    },\n    items() {\n      return this.entries.map(entry => {\n        const Description =\n          entry.Description.length > this.descriptionLimit\n            ? entry.Description.slice(0, this.descriptionLimit) + \"...\"\n            : entry.Description;\n\n        return Object.assign({}, entry, { Description });\n      });\n    }\n  },\n\n  watch: {\n    // eslint-disable-next-line no-unused-vars\n    search(val) {\n      // Items have already been loaded\n      if (this.items.length > 0) return;\n\n      // Items have already been requested\n      if (this.isLoading) return;\n\n      this.isLoading = true;\n\n      // Lazily load input items\n      fetch(\"https://api.publicapis.org/entries\")\n        .then(res => res.json())\n        .then(res => {\n          const { count, entries } = res;\n          this.count = count;\n          this.entries = entries;\n        })\n        .catch(err => {\n          console.log(err);\n        })\n        .finally(() => (this.isLoading = false));\n    }\n  }\n};\n",{"version":3,"sources":["Search.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Search.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <v-sheet :color=\"color\" :elevation=\"elevation\">\n    <div>\n      <v-autocomplete\n        class=\"my-5, mx-5\"\n        v-model=\"model\"\n        :items=\"items\"\n        :loading=\"isLoading\"\n        :search-input.sync=\"search\"\n        color=\"white\"\n        hide-no-data\n        item-text=\"Description\"\n        placeholder=\"Start typing to Search\"\n        append-icon=\"fa-search\"\n        return-object\n        chips\n        white\n        ><v-icon> fa-search</v-icon></v-autocomplete\n      >\n      <v-divider></v-divider>\n      <v-expand-transition>\n        <v-list v-if=\"model\" class=\"grey lighten-3\">\n          <v-list-item v-for=\"(field, i) in fields\" :key=\"i\">\n            <v-list-item-content>\n              <v-list-item-title v-text=\"field.value\"></v-list-item-title>\n              <v-list-item-subtitle v-text=\"field.key\"></v-list-item-subtitle>\n            </v-list-item-content>\n          </v-list-item>\n        </v-list>\n      </v-expand-transition>\n    </div>\n  </v-sheet>\n</template>\n\n<script>\nexport default {\n  name: \"Search\",\n  data: () => ({\n    descriptionLimit: 60,\n    entries: [],\n    isLoading: false,\n    model: null,\n    search: null\n  }),\n  props: {\n    color: String,\n    elevation: String\n  },\n  computed: {\n    fields() {\n      if (!this.model) return [];\n\n      return Object.keys(this.model).map(key => {\n        return {\n          key,\n          value: this.model[key] || \"n/a\"\n        };\n      });\n    },\n    items() {\n      return this.entries.map(entry => {\n        const Description =\n          entry.Description.length > this.descriptionLimit\n            ? entry.Description.slice(0, this.descriptionLimit) + \"...\"\n            : entry.Description;\n\n        return Object.assign({}, entry, { Description });\n      });\n    }\n  },\n\n  watch: {\n    // eslint-disable-next-line no-unused-vars\n    search(val) {\n      // Items have already been loaded\n      if (this.items.length > 0) return;\n\n      // Items have already been requested\n      if (this.isLoading) return;\n\n      this.isLoading = true;\n\n      // Lazily load input items\n      fetch(\"https://api.publicapis.org/entries\")\n        .then(res => res.json())\n        .then(res => {\n          const { count, entries } = res;\n          this.count = count;\n          this.entries = entries;\n        })\n        .catch(err => {\n          console.log(err);\n        })\n        .finally(() => (this.isLoading = false));\n    }\n  }\n};\n</script>\n\n<style scoped></style>\n"]}]}